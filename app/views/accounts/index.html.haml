%table.table.table-striped
  %thead
    %tr
      %th User
      %th Provider
      %th Username
      %th
      %th
      %th

  %tbody
    - @accounts.each do |account|
      %tr
        %td= account.user_id
        %td= account.provider
        %td= account.username
        %td= link_to 'Show', account
        %td= link_to 'Edit', edit_account_path(account)

        %td= link_to 'Update Policies', update_all_account_path(account), method: :post, data: { confirm: 'Are you sure?' }
        %td= link_to 'Deactivate', account, method: :delete, data: { confirm: 'Are you sure?' }

%br

-#= render Olivander::Components::TablePortletComponent.new(@accounts)
-# @builder = options[:builder]
-# @title = options[:title] || ''
-# @card_type = options[:card_type] || 'card-default'
-# @background = options[:background]
-# @header_background = options[:header_background]
-# @turbo_frame = options[:turbo_frame]
-# @max_height = options[:max_height]
-# @headers = options[:headers].nil? ? true : options[:headers]
-# @id = options[:id]

= collection_component_builder_for(Olivander::Components::TablePortletComponent,
  @accounts, max_height: '350px', title: 'Accounts', background: 'card-primary') do |b|
  - b.field(:user) do |t|
    \
  - b.field(:provider)
  - b.field(:username)
